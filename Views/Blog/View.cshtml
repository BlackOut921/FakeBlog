@using FakeBlog.Models.Blog
@model FakeBlogModel

@{
	ViewData["Title"] = "Blog Edit";
	bool userLoggedIn = User.Identity != null && User.Identity.IsAuthenticated;
	bool userIsAuthor = userLoggedIn && User.Identity?.Name == Model?.Author;
}

<div class="bg-light border p-3">
	@if (Model == null)
	{
		<p class="lead text-danger">Error loading blog</p>
	}
	else
	{
		if (userIsAuthor)
		{
			<div class="text-end">
				<a asp-controller="Blog" asp-action="Edit" asp-route-id="@Model.BlogId" class="btn btn-outline-dark">
					<i class="bi bi-pen me-1"></i>Edit
				</a>
			</div>
		}

		<h1 class="display-1">@Model.Title</h1>
		<p class="text-muted">@Model.Author</p>
		<p class="lead">@Model.Content</p>
		<p>Posted: @Model.DateCreated</p>
		<p>Last updated: @Model.LastUpdated</p>
	}
</div>